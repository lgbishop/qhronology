\documentclass{article}
\pagenumbering{gobble}
\input{./../../preamble/header.tex}
\input{./../../preamble/macros.tex}

\usepackage{geometry}
\geometry{
paperwidth=17cm,
paperheight=6cm,
margin=0cm
}

\usepackage{amsmath,amsfonts,amssymb}
\usepackage{bm}
\usepackage{tikz}
\usetikzlibrary{arrows,decorations.markings}
\usetikzlibrary{shapes}
\usetikzlibrary{quantikz}
%\usetikzlibrary{quantikz2}
\begin{document}
\begin{quantikz}[row sep={0.75*\QuantikzSeparationRow cm, between origins}]%[transparent]
    \lstick{$\ket{x_1}$} & \qw & \qw & \qw & \qw & \qw & \qw & \ctrl{1}\gategroup[4,steps=5,style={thin,rounded corners,fill=none, inner xsep=2pt},background]{FULL ADDER} & \ctrl{1} & \qw & \qw & \ctrl{1} & \qw \rstick{$\ket{x_1}$} \\
    \lstick{$\ket{y_1}$} & \qw & \qw & \qw & \qw & \qw & \qw & \ctrl{2} & \targ{} & \ctrl{1} & \ctrl{1} & \targ{} & \qw \rstick{$\ket{y_1}$} \\
    \lstick{$\ket{c_1}$} & \qw & \qw & \qw & \qw & \qw & \targ{} & \qw & \qw & \ctrl{1} & \targ{} & \qw & \qw \rstick{$\ket{s_1 = x_1 \oplus y_1 \oplus (c_1 \oplus c^\prime_0)}$} \\
    \lstick{$\ket{0}$} & \qw & \qw & \qw & \qw & \qw & \qw & \targ{} & \qw & \targ{} & \qw & \qw & \qw \rstick{$\ket{c^\prime_1 = x_1 y_1 \oplus y_1 (c_1 \oplus c^\prime_0) \oplus x_1 (c_1 \oplus c^\prime_0)}$} \\[0.5*\QuantikzSeparationRow cm]
    \lstick{$\ket{x_0}$} & \ctrl{1}\gategroup[4,steps=5,style={thin,rounded corners,fill=none, inner xsep=2pt},background]{FULL ADDER} & \ctrl{1} & \qw & \qw & \ctrl{1} & \qw & \qw & \qw & \qw & \qw & \qw & \qw \rstick{$\ket{x_0}$} \\
    \lstick{$\ket{y_0}$} & \ctrl{2} & \targ{} & \ctrl{1} & \ctrl{1} & \targ{} & \qw & \qw & \qw & \qw & \qw & \qw & \qw \rstick{$\ket{y_0}$} \\
    \lstick{$\ket{c_0}$} & \qw & \qw & \ctrl{1} & \targ{} & \qw & \qw & \qw & \qw & \qw & \qw & \qw & \qw \rstick{$\ket{s_0 = x_0 \oplus y_0 \oplus c_0}$} \\
    \lstick{$\ket{0}$} & \targ{} & \qw & \targ{} & \qw & \qw & \ctrl{-5} & \qw & \qw & \qw & \qw & \qw & \qw \rstick{$\ket{c^\prime_0 = x_0 y_0 \oplus y_0 c_0 \oplus x_0 c_0}$}
\end{quantikz}
\end{document}
