
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Ripple-carry adder &#8212; Qhronology</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b97cf656" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=e1492156" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/ClearSans/ClearSans.css?v=4d2c89fe" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/DejaVuSansMono/DejaVuSansMono.css?v=ae48d932" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/JuliaMono/JuliaMono.css?v=b40e2e5a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/Roboto/Roboto.css?v=628a0b80" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/SourceCodePro/SourceCodePro.css?v=3b579ac4" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fonts/SourceSans3/SourceSans3.css?v=b08c5bd9" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=8d563738"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=68e7c09d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"macros": {"ten": ["{\\times10^{#1}}", 1], "im": "{\\text{Im}}", "re": "{\\text{Re}}", "inner": ["{\\left\\langle #1 , #2 \\right\\rangle}", 2], "innerprod": ["{\\mbox{}_{#3}\\langle #1 \\vert #2 \\rangle_{#4}}", 4], "tr": "{\\text{tr}}", "trace": "{\\text{tr}}", "Domain": "{\\text{dom}}", "Range": "{\\text{ran}}", "Arg": "{\\text{Arg}}", "diag": "{\\text{diag}}", "sn": "{\\text{sn}}", "eye": "{{\\mathrm{i}\\mkern1mu}}", "op": ["{\\hat{#1}}", 1], "conj": ["{#1^*#2}", 2], "dual": ["{#1^*#2}", 2], "transpose": "{\\text{T}}", "classical": ["{\\tilde{#1}}", 1], "map": ["{\\mathbf{#1}}", 1], "textgate": ["{\\text{\\textsc{#1}}}", 1], "vac": ["{\\mathbf{#1}} % \\mathcal{}, \\mathfrak{} or \\mathbf{} or \\tilde{}", 1], "normalized": ["{\\overline{#1}}", 1], "e": "{{\\mkern1mu\\mathrm{e}\\mkern1mu}}", "aket": ["{\\big| #1 \\big>}", 1], "abra": ["{\\big< #1 \\big|}", 1], "ket": ["{\\left| #1 \\right\\rangle}", 1], "bra": ["{\\left\\langle #1 \\right|}", 1], "abraket": ["{\\big< #1 \\vphantom{#2} \\big| \\big. #2 \\vphantom{#1} \\big>}", 2], "braket": ["{\\left\\langle #1 \\vphantom{#2} \\vphantom{#2} \\vert #2 \\vphantom{#1} \\right\\rangle}", 2], "vec": ["{\\mathbf{#1}}", 1], "gv": ["{\\bm{#1}}", 1], "uv": ["{\\mathbf{\\hat{#1}}}", 1], "abs": ["{\\left| #1 \\right|}", 1], "norm": ["{\\left| \\left| #1 \\right| \\right|}", 1], "avg": ["{\\left< #1 \\right>}", 1], "diff": "{\\text{d}}", "matrixel": ["{\\left< #1 \\vphantom{#2#3}", 3], "grad": ["{\\vec{\\nabla} #1}", 1], "div": ["{\\vec{\\nabla} \\cdot #1}", 1], "curl": ["{\\vec{\\nabla} \\times #1}", 1], "MapBracket": ["{\\big[ #1 \\big]}", 1], "MapBrackets": ["{\\big[ #1 \\vphantom{#2} , #2 \\vphantom{#1} \\big]}", 2], "RomanNumeralCaps": ["{\\MakeUppercase{\\romannumeral #1}}", 1], "Time": "{t}", "TimeDelta": "{\\Delta t}", "TimeInitial": "{t'}", "TimeFinal": "{t''}", "TimeFuture": "{t^+}", "TimePast": "{t^-}", "TimeCollision": "{t^*}", "TimeOrthogonalization": "{t_\\perp}", "TimeInbound": "{t_\\text{in}}", "TimeOutbound": "{t_\\text{out}}", "TimeDelay": "{\\Delta \\tau}", "Space": "{x}", "SpaceDelta": "{w}", "PositionInitial": "{x'}", "PositionFinal": "{x''}", "PositionFuture": "{x^+}", "PositionPast": "{x^-}", "PositionCollision": "{x^*}", "MouthFuture": "{\\mathcal{W}^+}", "MouthPast": "{\\mathcal{W}^-}", "Position": "{x}", "Momentum": "{p}", "MomentumInitial": "{p'}", "MomentumFinal": "{p''}", "Coordinate": "{x}", "Dimension": "{d}", "Base": "{b}", "Radial": "{r}", "NullPlus": "{a}", "NullMinus": "{b}", "Affine": "{\\lambda}", "TimePenrose": "{v}", "SpacePenrose": "{u}", "PastTimelikeInfinity": "{i^-}", "FutureTimelikeInfinity": "{i^+}", "SpacelikeInfinity": "{i^0}", "PastLightlikeInfinity": "{\\mathcal{I}^-}", "FutureLightlikeInfinity": "{\\mathcal{I}^+}", "EvolutionNoninteracting": "{\\alpha}", "EvolutionInteracting": "{\\beta}", "EvolutionFuture": "{\\mu}", "EvolutionPast": "{\\nu}", "ClassNoninteracting": "{\\text{\\RomanNumeralCaps{1}}}", "ClassInteracting": "{\\text{\\RomanNumeralCaps{2}}}", "ClassFuture": "{\\text{\\RomanNumeralCaps{3}_+}}", "ClassPast": "{\\text{\\RomanNumeralCaps{3}_-}}", "Mass": "{m}", "Speed": "{c}", "Energy": "{E}", "EnergyScaled": "{\\Lambda}", "EnergyDelta": "{\\Delta E}", "Coupling": "{\\lambda}", "Probability": "{\\mathbb{P}}", "Expected": "{\\mathbb{E}}", "Action": "{S}", "Propagator": "{K}", "Green": "{G}", "Laplacian": "{\\vec{\\nabla}^2}", "Covariant": "{\\nabla}", "BoxOperator": "{\\square}", "Variation": "{\\delta}", "Transition": "{T}", "Transformation": "{\\Upsilon}", "Endomorphism": "{\\text{End}}", "PDENonLinear": "{F}", "PDELinear": "{P}", "PDELinearAdjoint": "{Q}", "Derivative": "{D}", "PDENonHomogeneous": "{J}", "FunctionExample": "{f}", "FunctionExampleTwo": "{g}", "FunctionExampleThree": "{h}", "FunctionTest": "{\\varphi}", "Functional": "{J}", "Distribution": "{T}", "FT": ["{\\tilde{#1}}", 1], "Fourier": "{\\mathcal{F}}", "Number": "{N}", "Fields": "{\\mathbb{F}}", "Reals": "{\\mathbb{R}}", "Complexes": "{\\mathbb{C}}", "Integers": "{\\mathbb{Z}}", "IntegersPositive": "{\\mathbb{Z}^+}", "Natural": "{\\mathbb{N}}", "Basis": "{e}", "SetField": "{F}", "SetSub": "{X}", "SetSubTwo": "{V}", "Chart": "{\\psi}", "Integral": "{I}", "Differentiability": "{C}", "Test": "{D}", "SpaceLebesgue": "{L}", "SpaceVector": "{\\mathcal{V}}", "SpaceHilbert": "{\\mathcal{H}}", "SpacePure": "{\\mathcal{P}}", "SpaceMixed": "{\\mathcal{D}}", "SpaceLinear": "{\\mathcal{L}}", "SpaceBounded": "{\\mathcal{B}}", "TestDistributions": "{\\mathcal{D}'}", "Schwartz": "{S}", "SchwartzDistributions": "{S'}", "Sobolev": "{W}", "Measure": "{\\mu}", "MeasureArea": "{\\sigma}", "Configuration": "{\\mathcal{Q}}", "WaveFunction": "{\\psi}", "WaveFunctionInitial": "{\\psi_\\text{i}}", "WaveFunctionFinal": "{\\psi_\\text{f}}", "WaveFunctionCTC": "{\\phi}", "WaveFunctionCTCInitial": "{\\phi_\\text{i}}", "WaveFunctionCTCFinal": "{\\phi_\\text{f}}", "StateVector": "{\\phi}", "StatePure": "{\\psi}", "StateMatrix": "{\\rho}", "StateDensity": "{\\op{\\StateMatrix}}", "Lagrangian": "{L}", "Hamiltonian": "{H}", "Kinetic": "{T}", "Potential": "{V}", "OperatorLagrangian": "{\\op{L}}", "OperatorHamiltonian": "{\\op{H}}", "OperatorKinetic": "{\\op{T}}", "OperatorPotential": "{\\op{V}}", "DifferentialPath": "{\\mathcal{D}}", "CR": "{\\text{CR}}", "CV": "{\\text{CV}}", "Teleportation": "{\\text{T}}", "Clock": "{\\text{c}}", "StateCR": "{\\op{\\rho}}", "StateCV": "{\\op{\\tau}}", "MapGeneral": "{\\vec{E}}", "MapDCTCsCR": "{\\vec{D}}", "MapDCTCsMix": "{\\vec{d}}", "MapDCTCsCV": "{\\vec{d}}", "MapPCTCsCR": "{\\vec{P}}", "MapPCTCsCV": "{\\vec{p}}", "MapWDCTCsCR": "{\\vec{W}}", "MapWDCTCsCV": "{\\vec{w}}", "MapTCTCsCR": "{\\vec{T}}", "MapTCTCsCV": "{\\vec{t}}", "OperatorPCTC": "{\\op{\\mathcal{P}}}", "Decoherence": "{\\mathscr{D}}", "Depolarization": "{\\mathscr{N}}", "Purity": "{\\gamma}", "Entropy": "{S}", "MutualInformation": "{I}", "TraceDistance": "{D}", "Fidelity": "{F}", "NumberLevels": "{N}", "NumberModes": "{M}", "Normalization": "{\\mathcal{N}}", "Unitary": "{\\op{U}}", "UnitaryVacuum": "{\\op{U}}", "UnitaryMultimode": "{\\op{U}}", "UnitaryTraced": "{\\op{P}}", "UnitaryTime": "{\\op{U}}", "Kraus": "{\\op{K}}", "Observable": "{\\op{O}}", "Identity": "{\\op{I}}", "Seed": "{\\op{\\varrho}}", "Rotation": "{\\op{R}}", "Phase": "{\\op{P}}", "Diagonal": "{\\op{D}}", "Swap": "{\\op{S}}", "OperatorPartial": "{\\op{V}}", "Control": "{C}", "Anticontrol": "{\\bar{C}}", "SUM": "{\\op{\\Sigma}}", "Pauli": "{\\op{\\sigma}}", "GellMann": "{\\op{\\lambda}}", "GellMannGeneralized": "{\\op{\\lambda}}", "NOT": "{\\op{X}}", "PauliX": "{\\op{X}}", "PauliY": "{\\op{Y}}", "PauliZ": "{\\op{Z}}", "QFT": "{\\op{F}}", "VacuumSwap": "{\\op{\\vac{S}}}", "VacuumIdentity": "{\\op{\\vac{I}}}", "VacuumRotation": "{\\op{\\vac{R}}}", "qclock": "{\\theta}", "qClock": "{\\Theta}", "Bell": "{\\Phi}", "CoefficientWeight": "{c}", "ParameterVacuum": "{\\Omega}", "ParameterFree": "{g}", "ParameterScaled": "{q}", "ParameterIncomplete": "{h}", "ParameterPower": "{p}", "ProbabilisticFalse": "{\\alpha}", "ProbabilisticTrue": "{\\beta}", "ProbabilisticTrueScaled": "{r}", "EigenValue": "{\\xi}", "Probe": "{\\chi}", "StateProbe": "{\\op{\\omega}}", "StateIntermediate": "{\\op{\\kappa}}", "Strength": "{\\epsilon}", "Measurement": "{M}", "POVM": "{\\Pi}", "Connection": "{Q}", "Expectation": "{r}", "UnitaryTotal": "{\\op{W}}", "Tomography": "{\\op{T}}", "UnitaryInteraction": "{\\op{U}}", "UnitaryExpansion": "{\\op{A}}", "UnitaryBasis": "{\\op{V}}", "Hadamard": "{\\op{H}}", "GroupUnitary": "{U}", "GroupUnitarySpecial": "{SU}", "GroupOrthogonal": "{O}", "GroupOrthogonalSpecial": "{SO}", "SetProbability": "{\\mathbb{P}}", "SetKraus": "{\\mathbb{K}}", "SetUnitary": "{\\mathbb{U}}", "SetObservable": "{\\mathbb{M}}", "FieldGeneral": "{\\Phi}", "FieldGeneralData": "{\\chi}", "FieldScalar": "{\\phi}", "FieldSpinor": "{\\psi}", "FieldVector": "{B}", "FieldDataPosition": "{\\chi}", "FieldDataMomentum": "{\\dot{\\chi}}", "FieldTerm": "{\\psi}", "HamiltonianDensity": "{\\mathcal{H}}", "LagrangianDensity": "{\\mathcal{L}}", "NonLinear": "{\\LagrangianDensity_{\\text{int}}}", "FunctionPositive": "{A}", "FunctionNegative": "{B}", "FunctionIntermediate": "{J}", "Wave": "{\\psi}", "WaveDataPosition": "{\\Psi}", "WaveDataMomentum": "{\\dot{\\Psi}}", "Train": "{\\theta}", "ConstantOne": "{C_1}", "ConstantTwo": "{C_2}", "RootsPM": "{R_\\pm}", "RootsMP": "{R_\\mp}", "RootPositive": "{R_+}", "RootNegative": "{R_-}", "LorentzFactor": "{\\gamma}", "Velocity": "{u}", "FourVelocity": "{u}", "Wavevector": "{k}", "FourWavevector": "{k}", "FrequencyAngular": "{\\omega}", "Frequency": "{\\Omega}", "MetricMinkowski": "{\\eta}", "MetricGeneral": "{g}", "ManifoldGeneral": "{\\mathcal{M}}", "ManifoldTarget": "{\\mathcal{T}}", "ManifoldMinkowski": "{\\mathcal{M}}", "ManifoldTimeMachine": "{\\mathcal{N}}", "ManifoldThreeWormhole": "{\\mathcal{W}}", "Submanifold": "{\\Omega}", "DifferentialForm": "{\\omega}", "Inclusion": "{\\iota}", "Mouth": "{\\mathcal{W}}", "Sphere": "{\\mathcal{S}}", "Cylinder": "{\\mathcal{C}}", "SurfaceGeneral": "{\\mathcal{Z}}", "SurfaceCauchy": "{\\Sigma}", "Region": "{\\mathcal{R}}", "Horizon": "{\\mathcal{H}}", "Development": "{D}", "TensorGeneral": "{F}", "TensorStressEnergy": "{T}"}}}</script>
    <script defer="defer" src="../../../_static/./js/MathJax/es5/tex-chtml.js?v=20daa33d"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'text/examples/algorithms/adder_ripple';</script>
    <script src="../../../_static/backgrounds/three.min.js?v=d3735a76"></script>
    <link rel="icon" href="../../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Ripple-carry adder (iterative)" href="adder_ripple_iterative.html" />
    <link rel="prev" title="Full adder" href="adder_full.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1" />
    <meta name="docbuild:last-update" content="Jun 19, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search"
         aria-label="Search"
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../../_static/logo-text-bold-light.svg" class="logo__image only-light" alt="Qhronology documentation - home"/>
    <img src="../../../_static/logo-text-bold-dark.svg" class="logo__image only-dark pst-js-only" alt="Qhronology documentation - home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../README.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../theory/part-theory.html">
    Theory
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../documentation/part-documentation.html">
    Documentation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../part-examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../live/part-live.html">
    Live
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../appendix/part-appendix.html">
    Appendix
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>
        </div>
      
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search"
         aria-label="Search"
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Quick Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lgbishop/qhronology" title="Git Repository" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Git Repository</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://raw.githubusercontent.com/lgbishop/qhronology/latest/docs/_build/latex/Qhronology.pdf" title="PDF Documentation" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-regular fa-file-pdf fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PDF Documentation</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../README.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../theory/part-theory.html">
    Theory
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../documentation/part-documentation.html">
    Documentation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../part-examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../live/part-live.html">
    Live
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../appendix/part-appendix.html">
    Appendix
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search"
         aria-label="Search"
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Quick Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lgbishop/qhronology" title="Git Repository" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Git Repository</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://raw.githubusercontent.com/lgbishop/qhronology/latest/docs/_build/latex/Qhronology.pdf" title="PDF Documentation" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-regular fa-file-pdf fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PDF Documentation</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Quantum algorithms and protocols</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="generation_bell.html">Generation of a Bell state</a></li>
<li class="toctree-l1"><a class="reference internal" href="generation_ghz.html">Generation of a GHZ state</a></li>
<li class="toctree-l1"><a class="reference internal" href="generation_arbitrary.html">Generation of a generalized GHZ state</a></li>
<li class="toctree-l1"><a class="reference internal" href="generation_w.html">Generation of a W state</a></li>
<li class="toctree-l1"><a class="reference internal" href="cnot.html">CNOT (controlled-NOT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ccnot.html">CCNOT (controlled-controlled-NOT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="toffoli.html">Toffoli decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="adder_half.html">Half adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="adder_full.html">Full adder</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Ripple-carry adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="adder_ripple_iterative.html">Ripple-carry adder (iterative)</a></li>
<li class="toctree-l1"><a class="reference internal" href="adder_lookahead.html">Carry-lookahead adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="adder_fourier.html">Fourier transform adder</a></li>
<li class="toctree-l1"><a class="reference internal" href="teleportation.html">Quantum teleportation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pswap.html">PSWAP (power-SWAP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="iswap.html">iSWAP (imaginary-SWAP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tomography_strong.html">Quantum state tomography</a></li>
<li class="toctree-l1"><a class="reference internal" href="tomography_weak.html">Quantum state tomography via weak measurements</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quantum closed timelike curves</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ctcs/grandfather.html">Grandfather paradox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctcs/unproven.html">Unproven-theorem paradox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctcs/billiards.html">Billiard-ball paradox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctcs/postselected.html">Manual P-CTC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctcs/ecp.html">Equivalent-circuit picture for D-CTCs</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../part-examples.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Ripple-carry adder</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="ripple-carry-adder">
<span id="eg-adder-ripple"></span><h1>Ripple-carry adder<a class="headerlink" href="#ripple-carry-adder" title="Link to this heading">#</a></h1>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h2>
<p>In this example, we use the single quantum adder circuit described in <a class="reference internal" href="adder_full.html#eg-adder-full"><span class="std std-ref">Full adder</span></a> to construct a quantum <em>ripple-carry</em> adder. Given two (non-negative) integers <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> (encoded using qubits) as input, a ripple-carry adder computes the (encoded) arithmetic sum <span class="math notranslate nohighlight">\(s\)</span> of these integers, that is, <span class="math notranslate nohighlight">\(s = x + y\)</span>. In this form, the two integers are known as <em>summands</em>, and are also specifically called <em>augend</em> (<span class="math notranslate nohighlight">\(x\)</span>) and <em>addend</em> (<span class="math notranslate nohighlight">\(y\)</span>) according to the order in which they appear in the addition operation.</p>
<p>In the case of a single adder, the magnitudes of the summands and their sum are confined to being within the dimensionality (e.g., binary) of their single-unit (e.g., bit) encoding. Integers larger than this limit therefore require multiple units of information to be encoded. For example, a non-negative integer <span class="math notranslate nohighlight">\(z\)</span> can be encoded with a number <span class="math notranslate nohighlight">\(\Number\)</span> of <span class="math notranslate nohighlight">\(\Dimension\)</span>-dimensional unit values provided <span class="math notranslate nohighlight">\(z \leq \Dimension^\Number - 1\)</span>. Under this encoding, the integer can be represented using an ordered array (or set or string) of such values,</p>
<div class="math notranslate nohighlight" id="equation-eq-encoding">
<span class="eqno">(340)<a class="headerlink" href="#equation-eq-encoding" title="Link to this equation">#</a></span>\[z \equiv (z_{\Number - 1}, z_{\Number - 2}, \ldots, z_1, z_0) = (z_n)_{n = 0}^{\Number - 1}\]</div>
<p>which collectively reconstruct the (decimal) value of the integer with the unique decoding expansion</p>
<div class="math notranslate nohighlight" id="equation-eq-decoding">
<span class="eqno">(341)<a class="headerlink" href="#equation-eq-decoding" title="Link to this equation">#</a></span>\[\begin{split}\begin{aligned}
    z &amp;= \sum_{n = 0}^{\Number - 1} z_n \Dimension^n \\
    &amp;= z_0\Dimension^0 + z_1\Dimension^1 + \ldots + z_{\Number - 2}\Dimension^{\Number - 2} + z_{\Number - 1}\Dimension^{\Number - 1}.
\end{aligned}\end{split}\]</div>
<p>This is a type of <em>unsigned</em> integer encoding: all units of information are used to store the magnitude of the number, and there is no unit (e.g., a <em>sign bit</em>) reserved for storing the sign of the integer. It is perhaps the simplest integer encoding scheme possible, and so can be readily implemented in the context of quantum computing by utilizing the ability of quantum states to store information (both classical and quantum). This is typically realized using <span class="math notranslate nohighlight">\(2\)</span>-dimensional (binary) qubits (due to their simplicity), and so a collection of <span class="math notranslate nohighlight">\(\Number\)</span> such states allows for the encoding of (non-negative) integers up to <span class="math notranslate nohighlight">\(2^\Number - 1\)</span> via the scheme described in <a class="reference internal" href="#equation-eq-encoding">(340)</a> and <a class="reference internal" href="#equation-eq-decoding">(341)</a>. The addition of any two such encoded integers, for example,</p>
<div class="math notranslate nohighlight" id="equation-text-examples-algorithms-adder-ripple-0">
<span class="eqno">(342)<a class="headerlink" href="#equation-text-examples-algorithms-adder-ripple-0" title="Link to this equation">#</a></span>\[\begin{split}\begin{aligned}
    \ket{x} &amp;\equiv \bigotimes_{n = \Number - 1}^{0}\ket{x_n} = \ket{x_{\Number - 1},x_{\Number - 2},\ldots,x_1,x_0}, \\
    \ket{y} &amp;\equiv \bigotimes_{n = \Number - 1}^{0}\ket{y_n} = \ket{y_{\Number - 1},y_{\Number - 2},\ldots,y_1,y_0},
\end{aligned}\end{split}\]</div>
<p>can then be accomplished by a succession of exactly <span class="math notranslate nohighlight">\(\Number\)</span> quantum ripple-carry adders. Each of these adders is applied to a different pair of subsystems in the encoded integers’ states—the first acts on the least significant qubit (<span class="math notranslate nohighlight">\(n = 0\)</span>), with the carry qubit from the previous adder being used as input to the next one. An example of this for a <span class="math notranslate nohighlight">\(2\)</span>-qubit encoding (<span class="math notranslate nohighlight">\(\Number = 2\)</span>) is depicted in <a class="reference internal" href="#fig-circuit-algorithm-adder-ripple"><span class="std std-numref">Figure 17</span></a>.</p>
<figure class="only-dark align-center" style="width: 100%">
<a class="reference internal image-reference" href="../../../_images/circuit_algorithm_adder_ripple-dark.png"><img alt="A quantum circuit diagram of a quantum ripple-carry adder." src="../../../_images/circuit_algorithm_adder_ripple-dark.png" style="width: 924.12px; height: 325.44px;" />
</a>
</figure>
<figure class="only-light align-center" style="width: 100%">
<a class="reference internal image-reference" href="../../../_images/circuit_algorithm_adder_ripple-light.png"><img alt="A quantum circuit diagram of a quantum ripple-carry adder." src="../../../_images/circuit_algorithm_adder_ripple-light.png" style="width: 924.12px; height: 325.44px;" />
</a>
</figure>
<figure class="light-dark hidden align-center" id="fig-circuit-algorithm-adder-ripple" style="width: 100%">
<a class="reference internal image-reference" href="../../../_images/circuit_algorithm_adder_ripple-light.png"><img alt="A quantum circuit diagram of a quantum ripple-carry adder." src="../../../_images/circuit_algorithm_adder_ripple-light.png" style="width: 924.12px; height: 325.44px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 17 </span><span class="caption-text">A <span class="math notranslate nohighlight">\(2\)</span>-qubit quantum ripple-carry adder. The CNOT operation between the FULL ADDER subcircuits transfers the value of the previous iteration’s carry output to the carry input of the next iteration.</span><a class="headerlink" href="#fig-circuit-algorithm-adder-ripple" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>From this circuit, the general output values of the summation qubits can be computed to be</p>
<div class="math notranslate nohighlight" id="equation-text-examples-algorithms-adder-ripple-1">
<span class="eqno">(343)<a class="headerlink" href="#equation-text-examples-algorithms-adder-ripple-1" title="Link to this equation">#</a></span>\[\begin{split}s_i =
    \begin{cases}
        x_0 \oplus y_0 \oplus c_0 &amp; i = 0; \\
        x_i \oplus y_i \oplus c_i \oplus c^\prime_{i - 1} &amp; i &gt; 0; \\
    \end{cases}\end{split}\]</div>
<p>while the carry values are</p>
<div class="math notranslate nohighlight" id="equation-text-examples-algorithms-adder-ripple-2">
<span class="eqno">(344)<a class="headerlink" href="#equation-text-examples-algorithms-adder-ripple-2" title="Link to this equation">#</a></span>\[\begin{split}c^\prime_i =
    \begin{cases}
        x_0 y_0 \oplus y_0 c_0 \oplus x_0 c_0 &amp; i = 0; \\
        x_i y_i \oplus (x_i \oplus y_i)(c_i \oplus c^\prime_{i-1}) &amp; i &gt; 0. \\
    \end{cases}\end{split}\]</div>
<p>With these, the corresponding states</p>
<div class="math notranslate nohighlight" id="equation-eq-encoded">
<span class="eqno">(345)<a class="headerlink" href="#equation-eq-encoded" title="Link to this equation">#</a></span>\[\begin{split}\begin{aligned}
    \ket{s} &amp;\equiv \bigotimes_{n = \Number - 1}^{0}\ket{s_n}, \\
    \ket{c^\prime} &amp;\equiv \bigotimes_{n = \Number - 1}^{0}\ket{c^\prime_n},
\end{aligned}\end{split}\]</div>
<p>can be decoded, using <a class="reference internal" href="#equation-eq-decoding">(341)</a>, to be</p>
<div class="math notranslate nohighlight" id="equation-eq-decoded">
<span class="eqno">(346)<a class="headerlink" href="#equation-eq-decoded" title="Link to this equation">#</a></span>\[\begin{split}\begin{aligned}
    s &amp;= \sum_{n = 0}^{\Number - 1} s_n \Dimension^n, \\
    c^\prime &amp;= \sum_{n = 0}^{\Number - 1} c^\prime_n \Dimension^n.
\end{aligned}\end{split}\]</div>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">#</a></h2>
<p>Due to performance constraints, this example sums two 2-bit integers. Increasing the <code class="docutils literal notranslate"><span class="pre">encoding_depth</span></code> <em>greatly</em> increases the calculation time as a result of having to perform operations on larger matrices. The decimal <code class="docutils literal notranslate"><span class="pre">augend_integer</span></code> and <code class="docutils literal notranslate"><span class="pre">addend_integer</span></code> variables can be freely changed, provided their summation is within the encodable range.</p>
<div class="literal-block-wrapper docutils container" id="code-adder-ripple">
<div class="code-block-caption"><span class="caption-number">Listing 17 </span><span class="caption-text">/text/examples/algorithms/adder_ripple.py</span><a class="headerlink" href="#code-adder-ripple" title="Link to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qhronology.quantum.states</span><span class="w"> </span><span class="kn">import</span> <span class="n">VectorState</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qhronology.quantum.gates</span><span class="w"> </span><span class="kn">import</span> <span class="n">Not</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qhronology.quantum.circuits</span><span class="w"> </span><span class="kn">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qhronology.utilities.helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">flatten_list</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qhronology.mechanics.matrices</span><span class="w"> </span><span class="kn">import</span> <span class="n">encode</span><span class="p">,</span> <span class="n">decode</span><span class="p">,</span> <span class="n">decode_fast</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">sympy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sp</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">initial_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="n">augend_integer</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">addend_integer</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">encoding_depth</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Input</span>
<span class="n">augend_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span>
    <span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="n">augend_integer</span><span class="p">,</span> <span class="n">num_systems</span><span class="o">=</span><span class="n">encoding_depth</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;x&quot;</span>
<span class="p">)</span>
<span class="n">addend_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span>
    <span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="n">addend_integer</span><span class="p">,</span> <span class="n">num_systems</span><span class="o">=</span><span class="n">encoding_depth</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;y&quot;</span>
<span class="p">)</span>

<span class="n">augend_states</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">addend_states</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">carry_states</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">zero_states</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">):</span>
    <span class="n">target_bit</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">complement_bits</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="n">target_bit</span><span class="p">]</span>

    <span class="n">augend_state</span><span class="o">.</span><span class="n">partial_trace</span><span class="p">(</span><span class="n">complement_bits</span><span class="p">)</span>
    <span class="n">addend_state</span><span class="o">.</span><span class="n">partial_trace</span><span class="p">(</span><span class="n">complement_bits</span><span class="p">)</span>

    <span class="n">augend_bit</span> <span class="o">=</span> <span class="n">decode</span><span class="p">(</span><span class="n">augend_state</span><span class="o">.</span><span class="n">output</span><span class="p">())</span>
    <span class="n">addend_bit</span> <span class="o">=</span> <span class="n">decode</span><span class="p">(</span><span class="n">addend_state</span><span class="o">.</span><span class="n">output</span><span class="p">())</span>

    <span class="n">augend_bit_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="n">augend_bit</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">label</span><span class="o">=</span><span class="n">augend_state</span><span class="o">.</span><span class="n">label</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoding_depth</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">addend_bit_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="n">addend_bit</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">label</span><span class="o">=</span><span class="n">addend_state</span><span class="o">.</span><span class="n">label</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoding_depth</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">carry_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;c&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoding_depth</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">zero_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span><span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>

    <span class="n">augend_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">augend_bit_state</span><span class="p">)</span>
    <span class="n">addend_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">addend_bit_state</span><span class="p">)</span>
    <span class="n">carry_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">carry_state</span><span class="p">)</span>
    <span class="n">zero_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zero_state</span><span class="p">)</span>

    <span class="n">augend_state</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">addend_state</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">flatten_list</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="n">augend_states</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">addend_states</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">carry_states</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">zero_states</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Gates</span>
<span class="n">gates</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">):</span>
    <span class="n">system_shift</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">encoding_depth</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>

    <span class="n">CCIN</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span>
        <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
        <span class="n">controls</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">0</span><span class="p">,</span> <span class="n">system_shift</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">num_systems</span><span class="o">=</span><span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">CNII</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span>
        <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">controls</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">num_systems</span><span class="o">=</span><span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ICCN</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span>
        <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
        <span class="n">controls</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">system_shift</span> <span class="o">+</span> <span class="mi">2</span><span class="p">],</span>
        <span class="n">num_systems</span><span class="o">=</span><span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ICNI</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span>
        <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">2</span><span class="p">],</span>
        <span class="n">controls</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">num_systems</span><span class="o">=</span><span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">adder_single</span> <span class="o">=</span> <span class="p">[</span><span class="n">CCIN</span><span class="p">,</span> <span class="n">CNII</span><span class="p">,</span> <span class="n">ICCN</span><span class="p">,</span> <span class="n">ICNI</span><span class="p">,</span> <span class="n">CNII</span><span class="p">]</span>
    <span class="n">gates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">adder_single</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">)):</span>
        <span class="n">CNOT</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span>
            <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span>
            <span class="n">controls</span><span class="o">=</span><span class="p">[</span><span class="n">system_shift</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
            <span class="n">num_systems</span><span class="o">=</span><span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">adder_single</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CNOT</span><span class="p">)</span>

<span class="n">gates</span> <span class="o">=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">gates</span><span class="p">)</span>

<span class="c1"># Circuit</span>
<span class="n">adder</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">gates</span><span class="o">=</span><span class="n">gates</span><span class="p">)</span>
<span class="n">adder</span><span class="o">.</span><span class="n">diagram</span><span class="p">()</span>

<span class="c1"># Output</span>
<span class="n">sum_registers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">4</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">encoding_depth</span><span class="p">)]</span>
<span class="n">not_sum_registers</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">encoding_depth</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sum_registers</span><span class="p">]</span>
<span class="n">sum_state</span> <span class="o">=</span> <span class="n">adder</span><span class="o">.</span><span class="n">state</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">traces</span><span class="o">=</span><span class="n">not_sum_registers</span><span class="p">)</span>
<span class="n">sum_integer</span> <span class="o">=</span> <span class="n">decode_fast</span><span class="p">(</span><span class="n">sum_state</span><span class="o">.</span><span class="n">output</span><span class="p">())</span>
<span class="n">sum_state</span> <span class="o">=</span> <span class="n">VectorState</span><span class="p">(</span><span class="n">spec</span><span class="o">=</span><span class="n">encode</span><span class="p">(</span><span class="n">sum_integer</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

<span class="c1"># Results</span>
<span class="n">augend_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="n">addend_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="n">sum_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>

<span class="n">final_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">computation</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Computation: </span><span class="si">{</span><span class="n">augend_integer</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">addend_integer</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">sum_integer</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="n">duration</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Duration: </span><span class="si">{</span><span class="n">sp</span><span class="o">.</span><span class="n">N</span><span class="p">(</span><span class="n">final_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">initial_time</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="s2"> seconds&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">computation</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="output">
<h2>Output<a class="headerlink" href="#output" title="Link to this heading">#</a></h2>
<section id="diagram">
<h3>Diagram<a class="headerlink" href="#diagram" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adder</span><span class="o">.</span><span class="n">diagram</span><span class="p">()</span>
</pre></div>
</div>
<blockquote>
<div><a class="only-dark reference internal image-reference" href="../../../_images/text_examples_algorithms_adder_ripple-dark.png"><img alt="../../../_images/text_examples_algorithms_adder_ripple-dark.png" class="only-dark align-left" src="../../../_images/text_examples_algorithms_adder_ripple-dark.png" style="width: 461.20000000000005px; height: 238.0px;" />
</a>
<a class="only-light reference internal image-reference" href="../../../_images/text_examples_algorithms_adder_ripple-light.png"><img alt="../../../_images/text_examples_algorithms_adder_ripple-light.png" class="only-light align-left" src="../../../_images/text_examples_algorithms_adder_ripple-light.png" style="width: 461.20000000000005px; height: 238.0px;" />
</a>
</div></blockquote>
</section>
<section id="states">
<h3>States<a class="headerlink" href="#states" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">augend_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">|x⟩ = |0,1⟩</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">addend_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">|y⟩ = |0,1⟩</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sum_state</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">|s⟩ = |1,0⟩</span>
</pre></div>
</div>
</section>
<section id="results">
<h3>Results<a class="headerlink" href="#results" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">computation</span><span class="p">)</span>
<span class="go">Computation: 1 + 1 = 2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
<span class="go">Duration: 16.363 seconds</span>
</pre></div>
</div>
<p>This is of course <em>extremely</em> slow, mainly due to the computations involving relatively large matrices in the underlying calculation. Optimization of Qhronology’s linear algebra algorithms, particularly the partial trace implementation, should improve both efficiency and speed.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="adder_full.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Full adder</p>
      </div>
    </a>
    <a class="right-next"
       href="adder_ripple_iterative.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Ripple-carry adder (iterative)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#output">Output</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagram">Diagram</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#states">States</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#results">Results</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025 Lachlan G. Bishop.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>